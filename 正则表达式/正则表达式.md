 *本文代码基于Python3.10解释器,除了第一次示例，代码将省略* `import re` *这个语句*

*所有示例代码可以在我的github仓库中的 code.py文件内查看*

[我的仓库]([PythonLearinig/正则表达式 at main · saopigqwq233/PythonLearinig (github.com)](https://github.com/saopigqwq233/PythonLearinig/tree/main/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F))

# Python的正则表达式书写规则

## 1.Python正则表达式匹配文本模式方法

正则表达式是一种快速从文本中匹配对应模式文本的表达式，在Python中所有的正则表达式函数都在模块<mark>**re**</mark>中。

其一般使用方法如下：

```python
import re
mo1 = re.compile('Batman') # 先使用re的方法compile，compile的字符串参数便是一个正则表达式
# compile讲返回一个一个Regex对象，mo1就是对应正则表达式模式的对象
name1 = mo1.search('My favorite hero is Batman') # 使用mo1对象中search方法，这个方法的字符串参数就是需要被查找的字符串
# 匹配成功，那么将返回一个Match对象给name1，这个对象中有group()方法，它返回与正则表达式匹配的字符串(有些情况不全是字符串，我会在后面作解释)
# 匹配失败，返回None
print(name1.group())
```

输出结果如下：

![3f4e1156-9b1c-40cd-8981-c21d41521beb](file:///C:/Users/liu15/Pictures/Typedown/3f4e1156-9b1c-40cd-8981-c21d41521beb.png)

## 2.直接查找模式

### 2.1直接查找

上面的代码就是直接查找模式，正则表达式字符串是'<mark>Batman</mark>',则需要在字符串'My favorite hero is Batman',寻找'<mark>Batman</mark>'

### 2.2管道匹配多种模式

有时，需要匹配的文本有多种可能，需要不同的正则表达式匹配模式，可以用‘**\|**’这个符号来表示管道匹配，即匹配多种可能

示例如下：

```python
mo2 = re.compile(r'Batman|Superman')
name2 = mo2.search('My favorite hero is Superman')
print(name2.group())
```

正则表达式是'<mark>Batman|Superman</mark>',那么在search()的字符串参数中，与之匹配的是'<mark>Superman</mark>',那么返回的Match对象赋给name2，其方法group()返回’Superman‘

输出结果如下：

![6b2b2fac-a7c2-4111-bd34-4ee2d7f1a091](file:///C:/Users/liu15/Pictures/Typedown/6b2b2fac-a7c2-4111-bd34-4ee2d7f1a091.png)

### 2.3管道匹配多种分组模式

如果"我喜欢的英雄可能性有点大"，正则表达式需要写成'Batman|Superman|Spiderman'吗？

可以，但可以用简洁的形式'<mark>(Bat|Super|Spider)man</mark>'

那么我们先看代码：

```python
mo3 = re.compile('(Bat|Super|Spider)man')
name3 = mo3.search('My favorite hero is Spiderman')
print(name3.group())
print(name3.group(0))  # 0默认是整个匹配的字符串
print(name3.group(1))  # 1是匹配的第一个分组
```

search()进行匹配时，先匹配第一个分组’Bat‘’Super‘’Spider‘中的一个，再匹配’man‘；也可以认为是匹配’<mark>Batman</mark>‘'<mark>Superman</mark>''<mark>Spiderman</mark>'中的一个。

这是运行情况：

![1d360ab9-5c41-4856-9c50-3466aaed336c](file:///C:/Users/liu15/Pictures/Typedown/1d360ab9-5c41-4856-9c50-3466aaed336c.png)

**需要指出的是**，在正则表达式中出现分组时，可以在group中传入参数，参数作为索引，比如在上述代码的group(1)，此方法将返回第一个分组，同时，无参数或者参数为0则默认返回整个匹配文本

#### ***search()只会返回含有第一个出现的匹配文本的对象***

先来看看这段代码：

```python
mo4 = re.compile('(Bat|Super)man')
name4 = mo4.search('I love Superman and Batman')
print(name4.group())  # 只输出第一个出现的Superman
```

运行结果如下：

![6134d7fa-98ab-4d37-b7c3-16a826d67f9d](file:///C:/Users/liu15/Pictures/Typedown/6134d7fa-98ab-4d37-b7c3-16a826d67f9d.png)

这段代码中，可以正则表达式可以匹配的文本有’<mark>Superman</mark>‘和'<mark>Batman</mark>'两个，但是name4对象的group方法只返回了第一个出现的'**Superman**'。

*后面会有找到所有匹配文本的方法*

## 3.查找固定类型字符模式

### 3.1字符类型

| 缩写字符 | 匹配字符       |
| ---- |:----------:|
| \d   | 0~9的数字     |
| \D   | 除了0~9的其它字符 |
| \w   | 字母，数字，下划线  |
| \W   | 除了字符数字下划线  |
| \s   | 空格制表换行符    |
| \S   | 除了空格制表换行符  |

从上面表格可以看出了，大写字母就是小写字母的补集



### 3.2固定类型模式

## 4.分组模式

## 5.含有特殊字符的模式

## 6.可有可无的分组的模式

## 7.接收任意个数的字符的模式

## 8.接收一个存在的连续字符模式

## 7和8的区别

## 9.字符匹配固定次数

### 9.1固定次数

### 9.2次数范围

### 9.3贪心匹配与非贪心匹配

## 10.自定义匹配字符类型

## 11.^和$在正则表达式中的作用

### 11.1^

### 11.2$

## 12.通配字符‘.’，匹配除了换行符的所有字符

### 12.1  '.*'匹配所有的字符

### 12.2  '.*'匹配换行符

## 13.模糊大小写
